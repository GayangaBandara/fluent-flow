# Fluent Flow - Complete Speaking Chatbot

A full-stack **speaking chatbot application** with **React frontend** and **Flask backend**, powered by **OpenAI GPT-4o**. Features real-time conversation, speech-to-text input, text-to-speech output, and context memory.

---

## ğŸ¯ Features

### âœ… **Complete Working Application**
- **Real-time AI conversations** using OpenAI GPT-4o-mini
- **Speech-to-text input** via Web Speech API
- **Text-to-speech output** for immersive experience
- **Context memory** - maintains conversation history
- **Beautiful responsive UI** with modern design
- **Error handling & connection status** indicators

### ğŸš€ **Advanced Features**
- **Backend API health monitoring**
- **Chat history management** (clear, view history)
- **Loading states & typing indicators**
- **Connection status indicators**
- **Mobile-responsive design**
- **CORS enabled** for cross-origin requests

---

## ğŸ—ï¸ Project Structure

```
fluent-flow-chatbot/
â”‚
â”œâ”€â”€ backend/                    # Flask API Server
â”‚   â”œâ”€â”€ app.py                 # Main Flask application
â”‚   â”œâ”€â”€ requirements.txt       # Python dependencies
â”‚   â”œâ”€â”€ .env                   # Environment variables
â”‚   â””â”€â”€ .env.example          # Environment template
â”‚
â”œâ”€â”€ src/                       # React Frontend
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Chatbot.js        # Main chatbot component
â”‚   â”‚   â”œâ”€â”€ ChatMessage.js    # Message display component
â”‚   â”‚   â””â”€â”€ ChatMessage.css   # Message styling
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ chatbotAPI.js     # API communication service
â”‚   â”œâ”€â”€ App.js                # Main app component
â”‚   â”œâ”€â”€ App.css              # Application styling
â”‚   â””â”€â”€ index.js             # React entry point
â”‚
â””â”€â”€ package.json              # Frontend dependencies
```

---

## ğŸ› ï¸ Quick Start Guide

### **Step 1: Backend Setup (Flask + OpenAI)**

1. **Navigate to backend directory:**
   ```bash
   cd backend
   ```

2. **Install Python dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Configure environment variables:**
   ```bash
   # Copy the example file
   cp .env.example .env
   
   # Edit .env and add your OpenAI API key
   OPENAI_API_KEY=your_actual_openai_api_key_here
   ```

4. **Start the Flask server:**
   ```bash
   python app.py
   ```
   
   **Backend will run at:** `http://127.0.0.1:5000`

   **Available endpoints:**
   - `GET /health` - Health check
   - `POST /chat` - Main chat endpoint
   - `POST /clear-history` - Clear chat history
   - `GET /get-history` - Get current history

### **Step 2: Frontend Setup (React)**

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Start the React development server:**
   ```bash
   npm start
   ```
   
   **Frontend will run at:** `http://localhost:3001`

### **Step 3: Use the Application**

1. **Open your browser** to `http://localhost:3001`
2. **Type messages** in the text input
3. **Click the microphone** ğŸ¤ to speak
4. **Watch the magic happen!** âœ¨

---

## ğŸ”§ Configuration

### **OpenAI API Setup**

1. **Get your API key** from [OpenAI Platform](https://platform.openai.com/api-keys)
2. **Add billing** to your OpenAI account (required for API usage)
3. **Set the key** in `backend/.env`:
   ```
   OPENAI_API_KEY=sk-your-key-here
   ```

### **Customization Options**

- **Model**: Change `model="gpt-4o-mini"` in `backend/app.py`
- **System prompt**: Modify `SYSTEM_PROMPT` for different personalities
- **History limit**: Adjust the chat history limit (currently 20 messages)
- **UI styling**: Edit `src/App.css` for custom themes

---

## ğŸ§ª Testing the Application

### **Health Check**
- Backend: Visit `http://127.0.0.1:5000/health`
- Should return: `{"status": "healthy", "message": "Chatbot API is running"}`

### **Test the Chat Interface**
1. **Type a message** and press Enter
2. **Check console** for API communication logs
3. **Verify speech output** if browser supports TTS
4. **Test microphone** input (requires HTTPS or localhost)

---

## ğŸš¨ Troubleshooting

### **Common Issues**

1. **"Backend is not connected"**
   - Ensure Flask server is running on port 5000
   - Check console for any error messages

2. **"OpenAI API quota exceeded"**
   - Add billing to your OpenAI account
   - Check usage limits in OpenAI dashboard

3. **Microphone not working**
   - Use HTTPS or localhost (required for Web Speech API)
   - Grant microphone permissions in browser

4. **CORS errors**
   - Ensure Flask CORS is enabled (already configured)
   - Check that frontend is calling correct API URL

### **Port Conflicts**
- **Backend (5000)**: If busy, modify `app.run(port=5000)` in `app.py`
- **Frontend (3001)**: If busy, use `PORT=3002 npm start`

---

## ğŸ“Š API Reference

### **Chat Endpoint**
```javascript
POST /chat
Content-Type: application/json

{
  "message": "Hello, how are you?"
}

Response:
{
  "reply": "I'm doing well, thank you! How can I help you today?",
  "success": true
}
```

### **Clear History**
```javascript
POST /clear-history

Response:
{
  "message": "Chat history cleared",
  "success": true
}
```

### **Get History**
```javascript
GET /get-history

Response:
{
  "history": [
    {"role": "user", "content": "Hello"},
    {"role": "assistant", "content": "Hi there!"}
  ],
  "count": 2
}
```

---

## ğŸ¨ Customization Guide

### **Change Bot Personality**
Edit `SYSTEM_PROMPT` in `backend/app.py`:
```python
SYSTEM_PROMPT = """You are a helpful, friendly AI chatbot that..."""
```

### **Modify UI Theme**
Edit CSS variables in `src/App.css`:
```css
background: linear-gradient(135deg, #your-colors-here);
```

### **Add New Features**
- **Message types**: Modify `ChatMessage.js`
- **Speech settings**: Adjust in `Chatbot.js` `speak()` function
- **API endpoints**: Add new routes in `app.py`

---

## ğŸ”’ Security Notes

- **API keys**: Never commit `.env` files to version control
- **CORS**: Configured for development (adjust for production)
- **Input validation**: Basic validation implemented
- **Rate limiting**: Consider adding for production use

---

## ğŸš€ Production Deployment

### **Backend Deployment (Render/Heroku)**
1. **Create requirements.txt** (already included)
2. **Set environment variables** in deployment platform
3. **Configure start command**: `python app.py`

### **Frontend Deployment (Vercel/Netlify)**
1. **Build the app**: `npm run build`
2. **Deploy build folder** to hosting platform
3. **Update API URL** to production backend endpoint

---

## ğŸ“ Development Notes

### **Current Implementation**
- **ChatGPT Model**: `gpt-4o-mini` (cost-effective, fast)
- **Context Memory**: 20 messages (configurable)
- **Speech Support**: Web Speech API (browser-dependent)
- **Styling**: Modern CSS with gradients and animations

### **Future Enhancements**
- Real-time streaming responses
- Multiple language support
- User authentication
- Persistent chat history (database)
- Voice conversation mode
- Mobile app version

---

## ğŸ“ Support

- **OpenAI API**: [platform.openai.com](https://platform.openai.com)
- **React Docs**: [react.dev](https://react.dev)
- **Flask Docs**: [flask.palletsprojects.com](https://flask.palletsprojects.com)
- **Web Speech API**: [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API)

---

**Enjoy building with Fluent Flow! ğŸ‰**